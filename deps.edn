;; deps.edn (top-level)
{:paths ["apps/api/src" "apps/common/src" "apps/demo/src" "apps/client/src" "apps/graph-memory/src" "apps/nlp-interface/src" "apps/open-world-ingest/src" "scripts"]
 :aliases
 {:api {:deps {api/api {:local/root "apps/api"}}
        :main-opts ["-m" "api.server"]}

  :server {:deps {api/api {:local/root "apps/api"}}
           :jvm-opts ["-Dfuton.config=config-server.edn"]
           :main-opts ["-m" "api.server"]}

  :run-m {:deps {demo/demo {:local/root "apps/demo"}}
          :main-opts ["-m" "demo.main"]}

  :dev {:extra-paths ["apps/common/src" "dev"]
        :extra-deps {ring/ring-devel {:mvn/version "1.12.2"}}}

;; renamed from :lint:eastwood â†’ :eastwood
  :eastwood
  {:extra-deps  {jonase/eastwood                 {:mvn/version "1.4.2"}
                 api/api                         {:local/root "apps/api"}
                 graph-memory/graph-memory       {:local/root "apps/graph-memory"}
                 nlp-interface/nlp-interface     {:local/root "apps/nlp-interface"}
                 open-world-ingest/open-world-ingest {:local/root "apps/open-world-ingest"}}
   :main-opts    ["-m" "eastwood.lint"
                  "{:namespaces [:source-paths]
                    :linters [:all]
                    :add-linters [:unused-fn-args :implicit-dependencies :reflection]
                    :continue-on-exception false}"]}

  :storage/inspect
  {:extra-deps {graph-memory/graph-memory {:local/root "apps/graph-memory"}}
   :main-opts ["-m" "scripts.xtdb_inspect"]}

  :scripts/ingest-futon3
  {:extra-deps {graph-memory/graph-memory {:local/root "apps/graph-memory"}}
   :main-opts ["-m" "scripts.futon3-ingest"]}

  :server/ingest-patterns
  {:extra-deps {graph-memory/graph-memory {:local/root "apps/graph-memory"}}
   :jvm-opts ["-Dfuton.config=config-server.edn"]
   :main-opts ["-m" "scripts.futon3-ingest"]}

  :server/ingest-docbook
  {:extra-deps {graph-memory/graph-memory {:local/root "apps/graph-memory"}}
   :jvm-opts ["-Dfuton.config=config-server.edn"]
   :main-opts ["-m" "scripts.docbook-ingest"]}

  :scripts/docbook-ingest
  {:extra-deps {graph-memory/graph-memory {:local/root "apps/graph-memory"}}
   :main-opts ["-m" "scripts.docbook-ingest"]}

  :scripts/inspect-pattern
  {:extra-deps {graph-memory/graph-memory {:local/root "apps/graph-memory"}}
   :main-opts ["-m" "scripts.inspect-pattern"]}

  :baseline/snapshot
  {:deps {client/client {:local/root "apps/client"}}
   :main-opts ["-m" "scripts.baseline-snapshot"]}}}
